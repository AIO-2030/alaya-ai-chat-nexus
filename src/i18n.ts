import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  en: {
    translation: {
      common: {
        appName: 'Univoice',
        ai: 'AI',
        initializingAI: 'Initializing AI...',
        login: 'Login',
        loginConnectWallet: 'Login & Connect Wallet',
        connectPlugWallet: 'Connect with Plug Wallet',
        signInGoogle: 'Sign in with Google',
        logout: 'Logout',
        myWallet: 'My Wallet',
        notConnected: 'Not Connected',
        balance: 'Balance',
        devices: 'Devices',
        battery: 'Battery',
        myDevices: 'My Devices',
        myDevicesSubtitle: 'Manage your connected devices and their status',
        addDevice: 'Add Device',
        manage: 'Manage',
        linkToWifi: 'Link to WiFi',
        selectWifiFor: 'Select WiFi network for',
        connect: 'Connect',
        cancel: 'Cancel',
        loading: 'Loading...',
        noDevices: 'No Devices',
        addYourFirstDevice: 'Add your first device to get started',
        addNewDevice: 'Add New Device',
        setupDeviceDescription: 'Set up your new device with WiFi and Bluetooth',
        deviceInitialization: 'Device Initialization',
        deviceInitializationDescription: 'We will help you set up your new device',
        startInitialization: 'Start Initialization',
        enterWifiPassword: 'Enter WiFi Password',
        network: 'Network',
        password: 'Password',
        enterWifiPasswordPlaceholder: 'Enter WiFi password',
        tryAgain: 'Try Again',
        connectingToDevice: 'Connecting to device...',
        deviceConnectedSuccessfully: 'Device Connected Successfully!',
        deviceConnectedDescription: 'Device has been successfully connected to WiFi',
        bluetoothConnectionEstablished: 'Bluetooth connection established',
        transmittingWifiCredentials: 'Transmitting WiFi credentials',
        transmittingActivationCode: 'Transmitting activation code',
        deviceConnectingToWifi: 'Device connecting to WiFi network',
        verifyingWifiConnection: 'Verifying WiFi connection',
        completeSetup: 'Complete Setup',
        submitting: 'Submitting...',
        enterActivationCode: 'Enter Device Activation Code',
        activationCode: 'Activation Code',
        activationCodePlaceholder: 'Enter device activation code',
        activationCodeDescription: 'Please enter the Tencent Cloud IoT device activation code. The device will use this code to register with Tencent Cloud and obtain DeviceSecret.',
        activationCodeInfo: 'The activation code is typically generated by the Tencent Cloud IoT platform for device dynamic registration. The device will use this code to request DeviceSecret from Tencent Cloud, then connect to the MQTT Broker.',
        sendActivationCode: 'Send Activation Code',
        scanQRCode: 'Scan QR Code',
        scanQRCodeDescription: 'Scan the QR code on your device to automatically fill in the activation code',
        scanQRCodePlaceholder: 'Point your camera at the QR code',
        qrCodeScanned: 'QR Code Scanned',
        qrCodeScannedSuccess: 'Activation code has been automatically filled in',
        qrCodeScanError: 'Failed to scan QR code',
        qrCodeScanErrorDesc: 'Please make sure the QR code is clearly visible and try again',
        switchToManual: 'Enter Manually',
        switchToScan: 'Scan QR Code',
        wifiNetworks: {
          myHomeWiFi: 'MyHome WiFi',
          guestNetwork: 'Guest Network',
          office5G: 'Office 5G'
        },
        wifiSecurity: {
          wpa2: 'WPA2',
          wpa3: 'WPA3',
          open: 'Open'
        },
        signalStrength: 'Signal',
        contracts: 'Friends',
        contractsSubtitle: '',
        newContract: 'New Friend',
        systemContract: 'AI Assistant',
        typeYourMessage: 'Type your message...',
        emoji: 'Emoji',
        toDevice: 'To Device',
        shareSelf:"Business Card",
        none: 'None',
        shareQrTitle: 'Share QR to Add Friend',
        shareQrHint: 'Scan to add a friend. If scanning fails, copy the link to share:',
        statusActive: 'Active',
        statusPending: 'Pending',
        statusCompleted: 'Completed',
        deviceConnected: 'Connected',
        deviceDisconnected: 'Disconnected',
        deviceSyncing: 'Syncing',
        plugNotDetected: 'Plug wallet not detected. Please install the Plug browser extension.',
        plugConnectionCancelled: 'Plug connection was cancelled by the user.',
        plugPrincipalFailed: 'Failed to get Plug principal.',
        iiAuthFailed: 'Internet Identity authentication failed.',
        iiPrincipalFailed: 'Failed to get principal from Internet Identity.',
        languageEnglish: 'English',
        languageChinese: '中文',
        langShortEN: 'EN',
        langShortZH: '中文'
      },
      auth: {
        loginRequired: 'Login Required',
        loginWithGoogle: 'Login with Google',
        loginWithWallet: 'Login with Wallet'
      },
      gallery: {
        title: 'Gallery',
        public: 'Public',
        myCreator: 'My Creator',
        create: 'Create',
        createNew: '+ Create',
        noCreations: 'No Creations Yet',
        startCreating: 'Start creating your first pixel art masterpiece!',
        loadingCreations: 'Loading your creations...',
        loginToViewCreations: 'Please login to view your pixel art creations',
        loadingMore: 'Loading more...',
        allLoaded: 'All creations loaded',
        saveSuccess: 'Your pixel art has been saved successfully!',
        saveError: 'Failed to save your creation',
        saving: 'Saving...',
        artTitle: 'Title',
        titlePlaceholder: 'Enter a title for your pixel art...',
        artDescription: 'Description',
        descriptionPlaceholder: 'Describe your creation...',
        pixelEmojis: 'Pixel Emojis',
        animatedGifs: 'Animated GIFs',
        saveCreation: 'Save Creation',
        saveDialogDescription: 'Enter details for your pixel art creation',
        titleRequired: 'Title is required',
        characterCount: 'characters',
        aiCreation: 'AI Creation',
        aiCreationDescription: 'Let AI help you create amazing pixel art',
        aiCreationSubtitle: '✨ AI • Create • Inspire ✨',
        startAiCreation: 'Start AI Creation',
        aiPowered: 'AI Powered',
        aiCreationDrawer: {
          title: 'Just tell Univoice your ideal, she will help you',
          subtitle: 'Describe what you want to create, or use voice input for a more natural experience',
          placeholder: 'Describe your ideal pixel art creation... (e.g., \'A cute cat sitting on a rainbow cloud\')',
          characterCount: 'characters',
          confirm: 'Confirm',
          recording: 'Recording... Click again to stop',
          processing: 'Processing your voice...',
          tips: {
            voice: 'Click the microphone button to start/stop recording',
            keyboard: 'Press Ctrl+Enter (or Cmd+Enter) to submit',
            specific: 'Be specific about colors, style, and mood for better results'
          },
          errors: {
            emptyPrompt: 'Empty Prompt',
            emptyPromptDesc: 'Please enter a prompt or use voice input.',
            voiceInputFailed: 'Voice Input Failed',
            voiceInputFailedDesc: 'Could not transcribe your voice. Please try again.',
            voiceProcessingError: 'Voice Processing Error',
            voiceProcessingErrorDesc: 'Failed to process your voice input. Please try again.',
            microphoneDenied: 'Microphone Access Denied',
            microphoneDeniedDesc: 'Please allow microphone access to use voice input.',
            aiCreationStarted: 'AI Creation Started',
            aiCreationStartedDesc: 'Creating pixel art based on: "{{prompt}}"',
            voiceInputReceived: 'Voice Input Received',
            voiceInputReceivedDesc: 'Transcribed: "{{text}}"'
          }
        }
      },
      pixel: {
        title: 'Pixel Art',
        format: 'Format',
        format32x32: '32x32 Square',
        format32x16: '32x16 Wide',
        preview: 'Pixel Preview',
        processing: 'Processing...',
        colorReduction: 'Color Reduction',
        dithering: 'Dithering',
        smoothing: 'Smoothing',
        apply: 'Apply Pixel Effect',
        reset: 'Reset to Original'
      },
      nft: {
        mintMessage: 'Mint your creation as NFT — Earn rewards & recognition.'
      },
      shop: {
        aiMarketplace: 'AI Marketplace',
        nftMarketplace: 'NFT Marketplace',
        buyNow: 'Buy Now',
        processing: 'Processing...',
        popular: 'Popular',
        sold: 'sold',
        reviews: 'reviews',
        floorPrice: 'Floor Price',
        by: 'by',
        walletLoginRequired: 'Wallet Login Required',
        walletLoginRequiredDesc: 'Please login with wallet to purchase NFTs',
        paymentSuccess: 'Payment Successful',
        paymentSuccessDesc: 'You have successfully purchased {{productName}}',
        paymentFailed: 'Payment Failed',
        paymentFailedDesc: 'Payment failed. Please try again.',
        nftPurchaseSuccess: 'NFT Purchase Successful',
        nftPurchaseSuccessDesc: 'You now own {{nftName}}',
        nftPurchaseFailed: 'NFT Purchase Failed',
        nftPurchaseFailedDesc: 'NFT purchase failed. Please try again.'
      },
      chat: {
        readyToSend: 'Ready to send',
        backToContacts: 'Back to Contacts',
        pixelArt: 'Pixel Art',
        debug: {
          info: 'Debug info'
        },
        error: {
          emptyMessage: 'Message is Empty',
          emptyMessageDesc: 'Please enter message content or select pixel art before sending',
          authFailed: 'User Authentication Failed',
          authFailedDesc: 'Please re-login and try again',
          authRequired: 'Authentication Required',
          authRequiredDesc: 'Please login to start chatting',
          contactMissing: 'Contact Information Missing',
          contactMissingDesc: 'Cannot determine recipient, please return to contacts list and select again',
          contactInfoMissing: 'Contact Information Missing',
          contactInfoMissingDesc: 'Unable to retrieve contact\'s Principal ID, which is required for chat communication.',
          contactRestoreFailed: 'Contact Restoration Failed',
          contactRestoreFailedDesc: 'Unable to restore contact information. Please return to contacts list and select the contact again.'
        }
      },
      userManagement: {
        title: 'My Profile',
        subtitle: 'Manage your personal information',
        loading: 'Loading...',
        failedToLoad: 'Failed to load user information',
        pleaseLogin: 'Please login first',
        nickname: 'Nickname',
        nicknameNotSet: 'Nickname not set',
        email: 'Email',
        emailNotSet: 'Email not set',
        walletAddress: 'Wallet Address',
        accountInfo: 'Account Information',
        userId: 'User ID',
        principalId: 'Principal ID',
        loginMethod: 'Login Method',
        status: 'Status',
        authenticated: 'Authenticated',
        unauthenticated: 'Unauthenticated',
        wallet: 'Wallet',
        google: 'Google',
        ii: 'II',
        dangerZone: 'Danger Zone',
        deleteProfile: 'Delete Profile',
        deleteProfileConfirm: 'Are you sure you want to delete your profile? This action cannot be undone.',
        deleteProfileWarning: 'This action cannot be undone, please proceed with caution',
        deleteProfileSuccess: 'Profile deleted successfully',
        deleteProfileFailed: 'Failed to delete profile, please try again',
        deleteProfileInProgress: 'Deleting...',
        updateNickname: 'Update Nickname',
        updateNicknameSuccess: 'Nickname updated successfully',
        updateNicknameFailed: 'Failed to update nickname, please try again',
        updateNicknameInProgress: 'Updating...',
        inputNickname: 'Enter nickname',
        save: 'Save',
        cancel: 'Cancel',
        refresh: 'Refresh',
        edit: 'Edit'
      }
    },
  },
  zh: {
    translation: {
      common: {
        appName: 'Univoice',
        ai: 'AI',
        initializingAI: '初始化 AI...',
        login: '登录',
        loginConnectWallet: '登录并连接钱包',
        connectPlugWallet: '使用 Plug 钱包连接',
        signInGoogle: '使用 Google 登录',
        logout: '退出登录',
        myWallet: '我的钱包',
        notConnected: '未连接',
        balance: '余额',
        devices: '设备',
        battery: '电量',
        myDevices: '我的设备',
        myDevicesSubtitle: '管理已连接设备及其状态',
        addDevice: '添加设备',
        manage: '管理',
        linkToWifi: '连接 WiFi',
        selectWifiFor: '为设备选择 WiFi 网络',
        connect: '连接',
        cancel: '取消',
        loading: '加载中...',
        noDevices: '暂无设备',
        addYourFirstDevice: '添加您的第一个设备以开始使用',
        addNewDevice: '添加新设备',
        setupDeviceDescription: '设置您的设备与 WiFi 和蓝牙',
        deviceInitialization: '设备初始化',
        deviceInitializationDescription: '我们将帮助您设置新设备',
        startInitialization: '开始初始化',
        enterWifiPassword: '输入 WiFi 密码',
        network: '网络',
        password: '密码',
        enterWifiPasswordPlaceholder: '输入 WiFi 密码',
        tryAgain: '重试',
        connectingToDevice: '正在连接设备...',
        deviceConnectedSuccessfully: '设备连接成功！',
        deviceConnectedDescription: '设备已成功连接到 WiFi',
        bluetoothConnectionEstablished: '蓝牙连接已建立',
        transmittingWifiCredentials: '正在传输 WiFi 凭据',
        transmittingActivationCode: '正在传输激活码',
        deviceConnectingToWifi: '设备正在连接 WiFi 网络',
        verifyingWifiConnection: '正在验证 WiFi 连接',
        completeSetup: '完成设置',
        submitting: '提交中...',
        enterActivationCode: '输入设备激活码',
        activationCode: '激活码',
        activationCodePlaceholder: '请输入设备激活码',
        activationCodeDescription: '请输入腾讯云 IoT 设备激活码，设备将使用此激活码向腾讯云注册并获取 DeviceSecret。',
        activationCodeInfo: '激活码通常由腾讯云 IoT 平台生成，用于设备动态注册。设备将使用此激活码向腾讯云请求 DeviceSecret，然后连接到 MQTT Broker。',
        sendActivationCode: '发送激活码',
        scanQRCode: '扫描二维码',
        scanQRCodeDescription: '扫描设备上的二维码以自动填入激活码',
        scanQRCodePlaceholder: '将摄像头对准二维码',
        qrCodeScanned: '二维码已扫描',
        qrCodeScannedSuccess: '激活码已自动填入',
        qrCodeScanError: '二维码扫描失败',
        qrCodeScanErrorDesc: '请确保二维码清晰可见，然后重试',
        switchToManual: '手动输入',
        switchToScan: '扫描二维码',
        wifiNetworks: {
          myHomeWiFi: '我的家庭WiFi',
          guestNetwork: '访客网络',
          office5G: '办公室5G'
        },
        wifiSecurity: {
          wpa2: 'WPA2',
          wpa3: 'WPA3',
          open: '开放'
        },
        signalStrength: '信号强度',
        contracts: '好友',
        contractsSubtitle: '',
        newContract: '新建联系人',
        systemContract: 'AI 助手',
        typeYourMessage: '输入消息...',
        emoji: '表情',
        toDevice: '发送到设备',
        shareSelf:"名片",
        none: '无',
        shareQrTitle: '分享二维码添加好友',
        shareQrHint: '扫码添加好友；若无法识别，请复制链接分享：',
        statusActive: '已激活',
        statusPending: '待处理',
        statusCompleted: '已完成',
        deviceConnected: '已连接',
        deviceDisconnected: '未连接',
        deviceSyncing: '同步中',
        plugNotDetected: '未检测到 Plug 钱包，请先安装 Plug 浏览器扩展',
        plugConnectionCancelled: '用户取消了 Plug 连接',
        plugPrincipalFailed: '无法获取 Plug Principal',
        iiAuthFailed: 'Internet Identity 认证失败',
        iiPrincipalFailed: '无法从 Internet Identity 获取 Principal',
        languageEnglish: 'English',
        languageChinese: '中文',
        langShortEN: 'EN',
        langShortZH: '中文'
      },
      auth: {
        loginRequired: '需要登录',
        loginWithGoogle: '使用 Google 登录',
        loginWithWallet: '使用钱包登录'
      },
      gallery: {
        title: '图库',
        public: '公开',
        myCreator: '我的创作',
        create: '创建',
        createNew: '+ 创建',
        noCreations: '暂无创作',
        startCreating: '开始创建您的第一个像素艺术杰作吧！',
        loadingCreations: '正在加载您的作品...',
        loginToViewCreations: '请登录查看您的像素艺术作品',
        loadingMore: '加载更多...',
        allLoaded: '所有作品已加载完成',
        saveSuccess: '您的像素艺术已成功保存！',
        saveError: '保存作品失败',
        saving: '保存中...',
        artTitle: '标题',
        titlePlaceholder: '为您的像素艺术输入标题...',
        artDescription: '描述',
        descriptionPlaceholder: '描述您的创作...',
        pixelEmojis: '像素表情包',
        animatedGifs: '动态GIF',
        saveCreation: '保存创作',
        saveDialogDescription: '为您的像素艺术创作输入详细信息',
        titleRequired: '标题为必填项',
        characterCount: '字符',
        aiCreation: 'AI 创作',
        aiCreationDescription: '让 AI 帮助您创作精彩的像素艺术',
        aiCreationSubtitle: '✨ AI • 创作 • 灵感 ✨',
        startAiCreation: '开始 AI 创作',
        aiPowered: 'AI 驱动',
        aiCreationDrawer: {
          title: '告诉 Univoice 您的理想，她会帮助您',
          subtitle: '描述您想要创作的内容，或使用语音输入获得更自然的体验',
          placeholder: '描述您理想的像素艺术创作...（例如："一只可爱的猫坐在彩虹云上"）',
          characterCount: '字符',
          confirm: '确认',
          recording: '录音中... 再次点击停止',
          processing: '正在处理您的语音...',
          tips: {
            voice: '点击麦克风按钮开始/停止录音',
            keyboard: '按 Ctrl+Enter（或 Cmd+Enter）提交',
            specific: '请具体描述颜色、风格和情绪以获得更好的效果'
          },
          errors: {
            emptyPrompt: '提示为空',
            emptyPromptDesc: '请输入提示或使用语音输入。',
            voiceInputFailed: '语音输入失败',
            voiceInputFailedDesc: '无法转录您的语音，请重试。',
            voiceProcessingError: '语音处理错误',
            voiceProcessingErrorDesc: '处理您的语音输入失败，请重试。',
            microphoneDenied: '麦克风访问被拒绝',
            microphoneDeniedDesc: '请允许麦克风访问以使用语音输入。',
            aiCreationStarted: 'AI 创作已开始',
            aiCreationStartedDesc: '正在基于以下内容创建像素艺术："{{prompt}}"',
            voiceInputReceived: '语音输入已接收',
            voiceInputReceivedDesc: '转录内容："{{text}}"'
          }
        }
      },
      pixel: {
        title: '像素艺术',
        format: '格式',
        format32x32: '32x32 方形',
        format32x16: '32x16 宽屏',
        preview: '像素预览',
        processing: '处理中...',
        colorReduction: '颜色简化',
        dithering: '抖动处理',
        smoothing: '平滑处理',
        apply: '应用像素效果',
        reset: '重置为原始'
      },
      nft: {
        mintMessage: '将您的创作铸造为NFT — 获得奖励与认可。'
      },
      shop: {
        aiMarketplace: 'AI商城',
        nftMarketplace: 'NFT商城',
        buyNow: '立即购买',
        processing: '处理中...',
        popular: '热门',
        sold: '已售',
        reviews: '评价',
        floorPrice: '地板价',
        by: '作者',
        walletLoginRequired: '需要钱包登录',
        walletLoginRequiredDesc: '请使用钱包登录以购买NFT',
        paymentSuccess: '支付成功',
        paymentSuccessDesc: '您已成功购买 {{productName}}',
        paymentFailed: '支付失败',
        paymentFailedDesc: '支付失败，请重试',
        nftPurchaseSuccess: 'NFT购买成功',
        nftPurchaseSuccessDesc: '您现在拥有 {{nftName}}',
        nftPurchaseFailed: 'NFT购买失败',
        nftPurchaseFailedDesc: 'NFT购买失败，请重试'
      },
      chat: {
        readyToSend: '准备发送',
        backToContacts: '返回联系人列表',
        pixelArt: '像素艺术',
        debug: {
          info: '调试信息'
        },
        error: {
          emptyMessage: '消息为空',
          emptyMessageDesc: '请输入消息内容或选择像素艺术后再发送',
          authFailed: '用户认证失败',
          authFailedDesc: '请重新登录后再试',
          contactMissing: '联系人信息缺失',
          contactMissingDesc: '无法确定接收方，请返回联系人列表重新选择',
          contactInfoMissing: '联系人信息缺失',
          contactInfoMissingDesc: '无法获取到联系人的Principal ID，这是进行聊天所必需的信息。',
          contactRestoreFailed: '联系人信息恢复失败',
          contactRestoreFailedDesc: '无法恢复联系人信息，请返回联系人列表重新选择联系人。'
        }
      },
      userManagement: {
        title: '我的档案',
        subtitle: '管理您的个人信息',
        loading: '加载中...',
        failedToLoad: '无法加载用户信息',
        pleaseLogin: '请先登录',
        nickname: '昵称',
        nicknameNotSet: '未设置昵称',
        email: '邮箱',
        emailNotSet: '未设置邮箱',
        walletAddress: '钱包地址',
        accountInfo: '账户信息',
        userId: '用户ID',
        principalId: 'Principal ID',
        loginMethod: '登录方式',
        status: '状态',
        authenticated: '已认证',
        unauthenticated: '未认证',
        wallet: '钱包',
        google: 'Google',
        ii: 'II',
        dangerZone: '危险操作',
        deleteProfile: '删除用户档案',
        deleteProfileConfirm: '确定要删除您的用户档案吗？此操作不可撤销。',
        deleteProfileWarning: '删除后无法恢复，请谨慎操作',
        deleteProfileSuccess: '档案删除成功',
        deleteProfileFailed: '档案删除失败，请重试',
        deleteProfileInProgress: '删除中...',
        updateNickname: '更新昵称',
        updateNicknameSuccess: '昵称更新成功',
        updateNicknameFailed: '昵称更新失败，请重试',
        updateNicknameInProgress: '更新中...',
        inputNickname: '输入昵称',
        save: '保存',
        cancel: '取消',
        refresh: '刷新',
        edit: '编辑'
      }
    },
  },
} as const;

const getInitialLanguage = (): string => {
  if (typeof window === 'undefined') return 'en';
  const saved = localStorage.getItem('lang');
  if (saved === 'en' || saved === 'zh') return saved;
  return navigator.language.toLowerCase().startsWith('zh') ? 'zh' : 'en';
};

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: getInitialLanguage(),
    fallbackLng: 'en',
    interpolation: { escapeValue: false },
  });

export default i18n;
